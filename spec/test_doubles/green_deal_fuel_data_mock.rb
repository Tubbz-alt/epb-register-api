class GreenDealFuelDataMock
  def initialize
    mock_data <<~DATA
      $001,462,2020,06,26
      #
      #
      $191,292,34,2020,06,19,2
      # Table 191 (Current Fuel Prices) follows ...
      # dbv 4.09
      #
      1,1,88,3.93,2019/Jun/12 13:41
      1,9,88,3.93,2019/Jun/12 13:41
      1,2,58,6.59,2019/Jun/12 13:41
      1,3,0,10.71,2019/Jun/12 13:41
      1,7,58,6.59,2019/Jun/12 13:41
      2,4,0,4.35,2019/Jun/12 13:41
      2,74,0,4.35,2019/Jun/12 13:41
      2,75,0,4.88,2019/Jun/12 13:45
      2,71,0,6.11,2019/Jun/12 13:41
      2,73,0,6.11,2019/Jun/12 13:41
      2,76,0,47.00,2013/Jun/21 14:36
      3,11,0,4.18,2019/Jun/12 13:41
      3,15,0,4.14,2019/Jun/12 13:41
      3,12,0,5.17,2019/Jun/12 13:41
      3,20,0,4.65,2013/Dec/10 16:52
      3,22,0,6.09,2018/Jun/11 11:43
      3,23,0,5.51,2018/Jun/11 11:43
      3,21,0,3.48,2018/Jun/11 11:43
      3,10,0,4.53,2018/Dec/12 14:30
      4,30,80,17.56,2019/Jun/12 13:41
      4,32,11,20.72,2019/Jun/12 13:41
      4,31,0,8.13,2019/Jun/12 13:41
      4,34,8,18.71,2019/Jun/12 13:41
      4,33,0,10.68,2019/Jun/12 13:41
      4,38,32,15.73,2019/Jun/12 13:41
      4,40,0,10.66,2019/Jun/12 13:41
      4,35,21,10.38,2019/Jun/12 13:41
      4,36,0,17.56,2019/Jun/12 13:41
      5,47,88,4.79,2019/Jun/12 13:41
      6,48,0,3.35,2018/Dec/12 14:26
      #
      # ... end of Table 191 Format 292
      #
    DATA
  end

  def mock_data(data)
    WebMock.enable!

    WebMock.stub_request(:get, "http://www.boilers.org.uk/data1/pcdf2012.dat")
      .to_return(status: 200, body: data)
  end

  def disable
    WebMock.disable!
  end
end
